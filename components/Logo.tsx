import Link from 'next/link';

import { useThemeValue } from '@hooks/useThemeValue';
import { useHasMounted } from '@hooks/useHasMounted';

type LogoColors = {
  text?: string;
  circle?: string;
};

const SvgWrapper: React.FC = ({ children }) => {
  return (
    <svg
      width="128"
      height="38"
      viewBox="0 0 128 38"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      {children}
    </svg>
  );
};

export const Logo = ({
  asLink,
  colors,
}: {
  asLink?: boolean;
  colors?: LogoColors;
}) => {
  const hasMounted = useHasMounted();
  const theme = useThemeValue();

  if (!hasMounted) return <SvgWrapper />;

  const LogoSvg = (
    <SvgWrapper>
      <path
        d="M2.66 26.864V13.228C2.66 12.9293 2.604 12.724 2.492 12.612C2.39867 12.5 2.22133 12.4347 1.96 12.416L0.98 12.36V10.036H5.964V22.16C6.99067 22.0667 7.88667 21.7493 8.652 21.208C9.41733 20.6667 9.94 19.9573 10.22 19.08C10.276 18.8933 10.304 18.744 10.304 18.632C10.304 18.3147 10.1267 18.156 9.772 18.156L8.708 18.1V15.916H14.504V18.184L13.16 18.24C12.9173 20.144 12.096 21.6467 10.696 22.748L13.44 27.676L15.148 27.76V30H11.06L7.868 24.176C7.252 24.344 6.61733 24.4747 5.964 24.568V27.676H5.992L7.588 27.76V30H0.924V27.872L1.848 27.788C2.128 27.7507 2.33333 27.676 2.464 27.564C2.59467 27.4333 2.66 27.2 2.66 26.864ZM21.6492 27.956C23.6838 27.956 24.7012 26.3133 24.7012 23.028C24.7012 21.3667 24.4678 20.1067 24.0012 19.248C23.5532 18.3893 22.7878 17.96 21.7052 17.96C20.6412 17.96 19.8572 18.3707 19.3532 19.192C18.8492 20.0133 18.5972 21.1333 18.5972 22.552C18.5972 25.184 19.0825 26.836 20.0532 27.508C20.4825 27.8067 21.0145 27.956 21.6492 27.956ZM15.2092 22.944C15.2092 21.5627 15.4145 20.368 15.8252 19.36C16.2358 18.3333 16.7865 17.5493 17.4772 17.008C18.8025 16 20.2678 15.496 21.8732 15.496C22.9932 15.496 23.9358 15.6827 24.7012 16.056C25.4852 16.4107 26.0918 16.8307 26.5212 17.316C26.9692 17.7827 27.3425 18.4733 27.6412 19.388C27.9585 20.284 28.1172 21.348 28.1172 22.58C28.1172 25.156 27.4918 27.1067 26.2412 28.432C24.9905 29.7573 23.3852 30.42 21.4252 30.42C19.4838 30.42 17.9625 29.7947 16.8612 28.544C15.7598 27.2747 15.2092 25.408 15.2092 22.944ZM28.8341 18.156V15.916H33.5661V17.736C34.0515 17.0453 34.6955 16.504 35.4981 16.112C36.3008 15.7013 37.1688 15.496 38.1021 15.496C39.5208 15.496 40.6128 15.9067 41.3781 16.728C42.1621 17.5307 42.5541 18.744 42.5541 20.368V27.676L44.1501 27.76V30H37.4861V27.872L38.4101 27.788C38.6901 27.7507 38.8955 27.676 39.0261 27.564C39.1568 27.4333 39.2221 27.2 39.2221 26.864V21.096C39.2221 20.0693 39.0635 19.3133 38.7461 18.828C38.4288 18.324 37.8221 18.072 36.9261 18.072C36.0488 18.072 35.3488 18.352 34.8261 18.912C34.3035 19.472 34.0421 20.1347 34.0421 20.9V27.676L35.6381 27.76V30H28.9741V27.872L29.8981 27.788C30.1781 27.7507 30.3835 27.676 30.5141 27.564C30.6448 27.4333 30.7101 27.2 30.7101 26.864V19.108C30.7101 18.548 30.4768 18.2587 30.0101 18.24L28.8341 18.156ZM52.1272 18.044C51.6792 17.876 51.1379 17.792 50.5032 17.792C49.8685 17.792 49.3552 17.9413 48.9632 18.24C48.5899 18.52 48.4032 18.8747 48.4032 19.304C48.4032 19.7147 48.4685 20.0413 48.5992 20.284C48.7485 20.508 48.9725 20.704 49.2712 20.872C49.7379 21.1147 50.2979 21.3293 50.9512 21.516C51.6045 21.684 52.0899 21.824 52.4072 21.936C52.7245 22.0293 53.1165 22.1973 53.5832 22.44C54.0685 22.6827 54.4325 22.944 54.6752 23.224C55.3285 23.9147 55.6552 24.8013 55.6552 25.884C55.6552 27.284 55.1419 28.3853 54.1152 29.188C53.1072 29.972 51.8192 30.364 50.2512 30.364C47.9739 30.364 46.2565 30.0747 45.0992 29.496V25.604L47.6192 25.408V26.752C47.6192 27.5733 48.4032 27.984 49.9712 27.984C51.5392 27.984 52.3232 27.4147 52.3232 26.276C52.3232 25.8653 52.1832 25.5293 51.9032 25.268C51.6419 25.0067 51.3805 24.8293 51.1192 24.736C50.8579 24.6427 50.5405 24.5493 50.1672 24.456C49.8125 24.3627 49.4579 24.2693 49.1032 24.176C48.7672 24.0827 48.3939 23.9613 47.9832 23.812C47.5912 23.644 47.1525 23.4107 46.6672 23.112C45.7152 22.496 45.2392 21.4693 45.2392 20.032C45.2392 18.576 45.7525 17.456 46.7792 16.672C47.8059 15.888 49.0939 15.496 50.6432 15.496C52.2112 15.496 53.7605 15.8693 55.2912 16.616V19.976L52.7712 20.172V18.996C52.7712 18.5293 52.5565 18.212 52.1272 18.044ZM59.2586 12.948H61.0786V15.916H64.8026L64.5226 18.268H61.0786V25.632C61.0786 26.4533 61.2279 27.032 61.5266 27.368C61.8252 27.6853 62.2826 27.844 62.8986 27.844C63.5332 27.844 64.1679 27.648 64.8026 27.256L65.6426 29.412C64.7092 30.0653 63.5239 30.392 62.0866 30.392C61.2466 30.392 60.5372 30.28 59.9586 30.056C59.3799 29.8507 58.9506 29.6173 58.6706 29.356C58.3906 29.0947 58.1759 28.712 58.0266 28.208C57.8772 27.704 57.7932 27.312 57.7746 27.032C57.7559 26.7333 57.7466 26.304 57.7466 25.744V18.268H55.7586L56.0386 16.224C56.9159 16.1493 57.5786 15.8413 58.0266 15.3C58.4746 14.74 58.8852 13.956 59.2586 12.948ZM78.2773 16.476V26.892C78.2773 27.1907 78.3239 27.396 78.4173 27.508C78.5293 27.62 78.7159 27.6853 78.9773 27.704L79.8733 27.76V30H75.4213V28.376L75.3373 28.348C74.4039 29.692 73.1253 30.364 71.5013 30.364C69.5973 30.364 68.1879 29.7573 67.2733 28.544C66.3586 27.3307 65.9013 25.6693 65.9013 23.56C65.9013 21.0213 66.5173 19.0427 67.7493 17.624C68.9813 16.2053 70.8293 15.496 73.2933 15.496C74.8799 15.496 76.5413 15.8227 78.2773 16.476ZM75.0293 25.548V18.296C74.5066 18.0533 73.7879 17.932 72.8733 17.932C71.6226 17.932 70.7173 18.436 70.1573 19.444C69.5973 20.452 69.3173 21.7867 69.3173 23.448C69.3173 26.472 70.2879 27.984 72.2293 27.984C73.0506 27.984 73.7226 27.7413 74.2453 27.256C74.7679 26.752 75.0293 26.1827 75.0293 25.548ZM80.424 18.156V15.916H85.156V17.736C85.6413 17.0453 86.2853 16.504 87.088 16.112C87.8906 15.7013 88.7586 15.496 89.692 15.496C91.1106 15.496 92.2026 15.9067 92.968 16.728C93.752 17.5307 94.144 18.744 94.144 20.368V27.676L95.74 27.76V30H89.076V27.872L90 27.788C90.28 27.7507 90.4853 27.676 90.616 27.564C90.7466 27.4333 90.812 27.2 90.812 26.864V21.096C90.812 20.0693 90.6533 19.3133 90.336 18.828C90.0186 18.324 89.412 18.072 88.516 18.072C87.6386 18.072 86.9386 18.352 86.416 18.912C85.8933 19.472 85.632 20.1347 85.632 20.9V27.676L87.228 27.76V30H80.564V27.872L81.488 27.788C81.768 27.7507 81.9733 27.676 82.104 27.564C82.2346 27.4333 82.3 27.2 82.3 26.864V19.108C82.3 18.548 82.0666 18.2587 81.6 18.24L80.424 18.156ZM98.3679 12.948H100.188V15.916H103.912L103.632 18.268H100.188V25.632C100.188 26.4533 100.337 27.032 100.636 27.368C100.935 27.6853 101.392 27.844 102.008 27.844C102.643 27.844 103.277 27.648 103.912 27.256L104.752 29.412C103.819 30.0653 102.633 30.392 101.196 30.392C100.356 30.392 99.6466 30.28 99.0679 30.056C98.4893 29.8507 98.0599 29.6173 97.7799 29.356C97.4999 29.0947 97.2853 28.712 97.1359 28.208C96.9866 27.704 96.9026 27.312 96.8839 27.032C96.8653 26.7333 96.8559 26.304 96.8559 25.744V18.268H94.8679L95.1479 16.224C96.0253 16.1493 96.6879 15.8413 97.1359 15.3C97.5839 14.74 97.9946 13.956 98.3679 12.948ZM109.883 15.916V27.676L111.479 27.76V30H104.815V27.872L105.739 27.788C106.28 27.732 106.551 27.4333 106.551 26.892V19.108C106.551 18.7907 106.495 18.576 106.383 18.464C106.289 18.352 106.112 18.296 105.851 18.296L104.871 18.24V15.916H109.883ZM106.355 13.508C105.963 13.116 105.767 12.6213 105.767 12.024C105.767 11.4267 105.963 10.932 106.355 10.54C106.747 10.1293 107.26 9.924 107.895 9.924C108.529 9.924 109.043 10.1293 109.435 10.54C109.845 10.932 110.051 11.4267 110.051 12.024C110.051 12.6213 109.845 13.116 109.435 13.508C109.043 13.8813 108.529 14.068 107.895 14.068C107.26 14.068 106.747 13.8813 106.355 13.508ZM111.932 18.156V15.916H116.664V17.736C117.149 17.0453 117.793 16.504 118.596 16.112C119.398 15.7013 120.266 15.496 121.2 15.496C122.618 15.496 123.71 15.9067 124.476 16.728C125.26 17.5307 125.652 18.744 125.652 20.368V27.676L127.248 27.76V30H120.584V27.872L121.508 27.788C121.788 27.7507 121.993 27.676 122.124 27.564C122.254 27.4333 122.32 27.2 122.32 26.864V21.096C122.32 20.0693 122.161 19.3133 121.844 18.828C121.526 18.324 120.92 18.072 120.024 18.072C119.146 18.072 118.446 18.352 117.924 18.912C117.401 19.472 117.14 20.1347 117.14 20.9V27.676L118.736 27.76V30H112.072V27.872L112.996 27.788C113.276 27.7507 113.481 27.676 113.612 27.564C113.742 27.4333 113.808 27.2 113.808 26.864V19.108C113.808 18.548 113.574 18.2587 113.108 18.24L111.932 18.156Z"
        fill={colors?.text ?? theme.colors.text.value}
      />
      <circle
        cx="107.5"
        cy="11.5"
        r="2.75"
        fill={colors?.circle ?? theme.colors.primary.value}
      />
    </SvgWrapper>
  );

  if (!asLink) return LogoSvg;

  return (
    <Link href="/" passHref>
      <a aria-label="Go to home page" className="logo">
        {LogoSvg}
      </a>
    </Link>
  );
};
